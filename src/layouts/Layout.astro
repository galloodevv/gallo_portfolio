---
import "@fontsource-variable/onest";
---

<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <link
      rel="icon"
      href="https://imgs.search.brave.com/Nhxtm8DkQ2CqMfoXL1g7hX-FViFNReZmnZvtv1mR2to/rs:fit:860:0:0:0/g:ce/aHR0cHM6Ly9zdGF0/aWMtMDAuaWNvbmR1/Y2suY29tL2Fzc2V0/cy4wMC93aW5kb3ct/ZGV2LXRvb2xzLWlj/b24tMjU2eDIzOC1w/aDhxZGV4by5wbmc"
    />
    <title>GalloDev | Portfolio</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/src/styles/global.css" />
  </head>
  <body class="bg-[#0A0A1B]">
    <header class="fixed w-full z-50 top-0 animate-fade-in">
      <div
        class="bg-[#0A0A1B]/80 backdrop-blur-md border-b border-white/5 transform animate-slide-down opacity-0"
        style="animation-delay: 1200ms; animation-fill-mode: forwards;"
      >
        <div class="max-w-7xl mx-auto px-4">
          <div class="block md:hidden py-4">
            <button
              id="mobile-menu-button"
              class="text-gray-300 hover:text-purple-400 transition-colors duration-300"
              aria-label="Menú"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-8 w-8"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M4 6h16M4 12h16M4 18h16"></path>
              </svg>
            </button>
            <div
              id="mobile-menu"
              class="hidden absolute left-0 right-0 bg-[#0A0A1B]/95 backdrop-blur-lg mt-2 p-4 border-b border-white/5"
            >
              <nav class="flex flex-col space-y-4">
                <a
                  href="#inicio"
                  class="text-gray-300 hover:text-purple-400 transition-colors duration-300 py-2"
                >
                  <span class="flex items-center gap-2">
                    <span>Inicio</span>
                  </span>
                </a>
                <a
                  href="#experiencia"
                  class="text-gray-300 hover:text-purple-400 transition-colors duration-300 py-2"
                >
                  <span class="flex items-center gap-2">
                    <span>Experiencia</span>
                  </span>
                </a>
                <a
                  href="#proyectos"
                  class="text-gray-300 hover:text-purple-400 transition-colors duration-300 py-2"
                >
                  <span class="flex items-center gap-2">
                    
                    <span>Proyectos</span>
                  </span>
                </a>
                <a
                  href="#tecnologias"
                  class="text-gray-300 hover:text-purple-400 transition-colors duration-300 py-2"
                >
                  <span class="flex items-center gap-2">  
                    <span>Tecnologías</span>
                  </span>
                </a>
              </nav>
            </div>
          </div>

          <div class="hidden md:flex items-center justify-center">
            <div class="flex items-center space-x-8 py-4">
              <div
                class="flex items-center gap-4 bg-[#797979]/40 px-6 py-2 rounded-full overflow-x-auto md:overflow-visible flex-nowrap"
              >
                <a
                  href="#inicio"
                  class="text-gray-300 hover:text-purple-400 transition-colors duration-300"
                >
                  <span class="flex items-center gap-2">
                    <span class="whitespace-nowrap">Inicio</span>
                  </span>
                </a>
                <a
                  href="#experiencia"
                  class="text-gray-300 hover:text-purple-400 transition-colors duration-300"
                >
                  <span class="flex items-center gap-2">
                    
                    <span class="whitespace-nowrap">Experiencia</span>
                  </span>
                </a>
                <a
                  href="#proyectos"
                  class="text-gray-300 hover:text-purple-400 transition-colors duration-300"
                >
                  <span class="flex items-center gap-2">
                    <span class="whitespace-nowrap">Proyectos</span>
                  </span>
                </a>
                <a
                  href="#tecnologias"
                  class="text-gray-300 hover:text-purple-400 transition-colors duration-300"
                >
                  <span class="flex items-center gap-2">
                    <span class="whitespace-nowrap">Tecnologías</span>
                  </span>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </header>
    <slot />
    <script>
      window.onbeforeunload = function () {
        window.scrollTo(0, 0);
      };
      document.addEventListener("DOMContentLoaded", () => {
        const mobileMenuButton = document.getElementById("mobile-menu-button");
        const mobileMenu = document.getElementById("mobile-menu");

        if (mobileMenuButton && mobileMenu) {
          mobileMenuButton.addEventListener("click", () => {
            mobileMenu.classList.toggle("hidden");
          });

          const mobileLinks = mobileMenu.querySelectorAll("a");
          mobileLinks.forEach((link) => {
            link.addEventListener("click", () => {
              mobileMenu.classList.add("hidden");
            });
          });
        }
      });

      function updateActiveSection() {
        const sections = document.querySelectorAll("div[id]");
        const navLinks = document.querySelectorAll('header a[href^="#"]');

        let currentSectionId = "";

        sections.forEach((section) => {
          const sectionTop =
            section.getBoundingClientRect().top + window.scrollY - 100;
          const sectionHeight = section.clientHeight;

          if (
            window.scrollY >= sectionTop &&
            window.scrollY < sectionTop + sectionHeight
          ) {
            const id = section.getAttribute("id");
            if (id) {
              currentSectionId = id;
            }
          }
        });

        navLinks.forEach((link) => {
          const href = link.getAttribute("href");
          if (href && href.substring(1) === currentSectionId) {
            link.classList.add("text-purple-400");
            link.classList.remove("text-gray-300");
          } else {
            link.classList.remove("text-purple-400");
            link.classList.add("text-gray-300");
          }
        });
      }
      document.addEventListener("DOMContentLoaded", updateActiveSection);
      window.addEventListener("scroll", updateActiveSection);
    </script>
  </body>
</html>

<style is:global>
  :root {
    --accent: 136, 58, 234;
    --accent-light: 224, 204, 250;
    --accent-dark: 49, 10, 101;
    --accent-gradient: linear-gradient(
      45deg,
      rgb(var(--accent)),
      rgb(var(--accent-light)) 30%,
      white 60%
    );
  }
  html {
    font-family: "Onest Variable", sans-serif;
    background: #0a0a1b;
    background-size: 224px;
  }

  body::before {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: radial-gradient(
        circle at top right,
        rgba(27, 27, 58, 0.15) 0%,
        transparent 60%
      ),
      radial-gradient(
        circle at bottom left,
        rgba(27, 27, 58, 0.1) 0%,
        transparent 40%
      );
    pointer-events: none;
    z-index: -1;
  }

  nav {
    filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1));
  }

  @keyframes slide-down {
    from {
      transform: translateY(-100%);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  .animate-slide-down {
    animation: slide-down 0.8s cubic-bezier(0.16, 1, 0.3, 1);
  }
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }
  ::-webkit-scrollbar-track {
    background: #13132f;
    border-radius: 100px;
  }

  ::-webkit-scrollbar-thumb {
    background: rgba(123, 97, 255, 0.4);
    border-radius: 100px;
    border: 2px solid #13132f;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: rgba(123, 97, 255, 0.6);
  }

  ::-webkit-scrollbar-button {
    display: none;
  }

  header a {
    transition: color 0.3s ease;
  }


  @media (max-width: 768px) {
    #mobile-menu {
      max-height: calc(100vh - 80px);
      overflow-y: auto;
    }
  }
</style>
